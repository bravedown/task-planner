<!doctype html>
<html class="has-navbar-fixed-bottom" lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Link to the jQuery Library -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <!--Link to Bulma CSS Framework-->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.0/css/bulma.min.css">


  <!-- Link to our external stylesheet-->
  <link rel="stylesheet" href="./assets/style.css">

  <title>Hello, world!</title>
</head>

<body>
  <!DOCTYPE html>
  <html>
  <section class="section" id="schedule">
    <div class="container">
      <div class="tabs is-centered is-toggle is-toggle-rounded" id="scheduleNavbar">
        <ul>
          <li id="taskNav" class="navLink">
            <a>Tasks</a>
          </li>
          <li id="monthNav" class="navLink">
            <a>Month</a>
          </li>
          <li id="weekNav" class="navLink">
            <a>Week</a>
          </li>
          <li id="dayNav" class="navLink">
            <a>Day</a>
          </li>
        </ul>
      </div>

      <div class="container is-hidden" id="taskView">
        <div class="container">
          <h1 class="title is-1 has-text-centered">Task List</h1>
  
        </div>
        <br />
        <div id="task-cats"></div>
  
        <div class="columns">
          <div class="column is-one-quarter"></div>
          <div class="column">
            <div id="quoteCard" class="card">
              <div class="card-content">
                <textarea id="cat-input" name="new-cat" placeholder="New Category Name"></textarea>
                <button id="new-cat" class="button">Create Category</button>
              </div>
            </div>
          </div>
          <div class="column is-one-quarter"></div>
        </div>

        <div class="columns">
          <div class="column is-one-quarter"></div>
          <div class="column">
            <div id="quoteCard" class="card">
              <div class="card-content">
                <p class="title" id="quoteText">
                </p>
                <p class="subtitle" id="quoteAuthor">
                </p>
              </div>
            </div>
          </div>
          <div class="column is-one-quarter"></div>
        </div>
  
      </div>

      <div class="container is-hidden" id="weekView">
        <nav class="level box is-mobile">
          <!-- Left side -->
          <div class="level-left">
            <div class="level-item">
              <p class="subtitle is-5">
                <strong>Sunday</strong>
              </p>
            </div>
          </div>
          <!-- Right side -->
          <div class="level-right">
            <div class="level-item is-hidden">
              <img id="day0Icon" alt="Weather Icon" src="http://openweathermap.org/img/wn/10d.png">
            </div>
            <button class="button is-warning" id="day0TaskNum">#</button>
          </div>
        </nav>

        <nav class="level box is-mobile">
          <!-- Left side -->
          <div class="level-left">
            <div class="level-item">
              <p class="subtitle is-5">
                <strong>Monday</strong>
              </p>
            </div>
          </div>
          <!-- Right side -->
          <div class="level-right">
            <div class="level-item is-hidden">
              <img id="day1Icon" alt="Weather Icon" src="http://openweathermap.org/img/wn/10d.png">
            </div>
            <button class="button is-warning" id="day1TaskNum">#</button>

          </div>
        </nav>

        <nav class="level box is-mobile">
          <!-- Left side -->
          <div class="level-left">
            <div class="level-item">
              <p class="subtitle is-5">
                <strong>Tuesday</strong>
              </p>
            </div>
          </div>
          <!-- Right side -->
          <div class="level-right">
            <div class="level-item is-hidden">
              <img id="day2Icon" alt="Weather Icon" src="http://openweathermap.org/img/wn/10d.png">
            </div>
            <button class="button is-warning" id="day2TaskNum">#</button>
          </div>
        </nav>

        <nav class="level box is-mobile">
          <!-- Left side -->
          <div class="level-left">
            <div class="level-item">
              <p class="subtitle is-5">
                <strong>Wednesday</strong>
              </p>
            </div>
          </div>
          <!-- Right side -->
          <div class="level-right">
            <div class="level-item is-hidden">
              <img id="day3Icon" alt="Weather Icon" src="http://openweathermap.org/img/wn/10d.png">
            </div>
            <button class="button is-warning" id="day3TaskNum">#</button>
          </div>
        </nav>

        <nav class="level box is-mobile">
          <!-- Left side -->
          <div class="level-left">
            <div class="level-item">
              <p class="subtitle is-5">
                <strong>Thursday</strong>
              </p>
            </div>
          </div>
          <!-- Right side -->
          <div class="level-right">
            <div class="level-item is-hidden">
              <img id="day4Icon" alt="Weather Icon" src="http://openweathermap.org/img/wn/10d.png">
            </div>
            <button class="button is-warning" id="day4TaskNum">#</button>
          </div>
        </nav>

        <nav class="level box is-mobile">
          <!-- Left side -->
          <div class="level-left">
            <div class="level-item">
              <p class="subtitle is-5">
                <strong>Friday</strong>
              </p>
            </div>
          </div>
          <!-- Right side -->
          <div class="level-right">
            <div class="level-item is-hidden">
              <img id="day5Icon" alt="Weather Icon" src="http://openweathermap.org/img/wn/10d.png">
            </div>
            <button class="button is-warning" id="day5TaskNum">#</button>
          </div>
        </nav>

        <nav class="level box is-mobile">
          <!-- Left side -->
          <div class="level-left">
            <div class="level-item">
              <p class="subtitle is-5">
                <strong>Saturday</strong>
              </p>
            </div>
          </div>

          <!-- Right side -->
          <div class="level-right">
            <div class="level-item is-hidden">
              <img id="day6Icon" alt="Weather Icon" src="http://openweathermap.org/img/wn/10d.png">
            </div>
            <button class="button is-warning" id="day6TaskNum">#</button>
          </div>
        </nav>
      </div>

      <div class="container is-hidden" id="dayView">
        <div class="block has-text-centered">
          <h1 class="title" id="focusedDay"></h1>
        </div>

        <div id="timeblocks"></div>
      </div>

      <div class="container is-hidden" id="monthView">
        <article class="message">
          <div class="message-header">
            <h3 id="monthAndYear" class="has-text-white title">Month and Year</h3>
          </div>
          <div class="message-body">
            <table class="table is-bordered" id="calendar">
              <thead>
                <tr>
                  <th>Sun</th>
                  <th>Mon</th>
                  <th>Tue</th>
                  <th>Wed</th>
                  <th>Thu</th>
                  <th>Fri</th>
                  <th>Sat</th>
                </tr>
              </thead>

              <tbody id="calendar-body">

              </tbody>
            </table>

            <div class="control">

              <button class="button is-outlined is-primary" id="previous" onclick="previous()">Previous</button>

              <button class="button is-outlined is-primary" id="next" onclick="next()">Next</button>
            </div>
            <br />
            <div class="field">
              <label class="label" for="month">Jump To: </label>
              <div class="control">
                <div class="select">

                  <select class="select" name="month" id="month" onchange="jump()">
                    <option value=0>Jan</option>
                    <option value=1>Feb</option>
                    <option value=2>Mar</option>
                    <option value=3>Apr</option>
                    <option value=4>May</option>
                    <option value=5>Jun</option>
                    <option value=6>Jul</option>
                    <option value=7>Aug</option>
                    <option value=8>Sep</option>
                    <option value=9>Oct</option>
                    <option value=10>Nov</option>
                    <option value=11>Dec</option>
                  </select>
                </div>

                <div class="select">
                  <label for="year"></label>
                  <select class="select" name="year" id="year" onchange="jump()">
                    <option value=1990>1990</option>
                    <option value=1991>1991</option>
                    <option value=1992>1992</option>
                    <option value=1993>1993</option>
                    <option value=1994>1994</option>
                    <option value=1995>1995</option>
                    <option value=1996>1996</option>
                    <option value=1997>1997</option>
                    <option value=1998>1998</option>
                    <option value=1999>1999</option>
                    <option value=2000>2000</option>
                    <option value=2001>2001</option>
                    <option value=2002>2002</option>
                    <option value=2003>2003</option>
                    <option value=2004>2004</option>
                    <option value=2005>2005</option>
                    <option value=2006>2006</option>
                    <option value=2007>2007</option>
                    <option value=2008>2008</option>
                    <option value=2009>2009</option>
                    <option value=2010>2010</option>
                    <option value=2011>2011</option>
                    <option value=2012>2012</option>
                    <option value=2013>2013</option>
                    <option value=2014>2014</option>
                    <option value=2015>2015</option>
                    <option value=2016>2016</option>
                    <option value=2017>2017</option>
                    <option value=2018>2018</option>
                    <option value=2019>2019</option>
                    <option value=2020>2020</option>
                    <option value=2021>2021</option>
                    <option value=2022>2022</option>
                    <option value=2023>2023</option>
                    <option value=2024>2024</option>
                    <option value=2025>2025</option>
                    <option value=2026>2026</option>
                    <option value=2027>2027</option>
                    <option value=2028>2028</option>
                    <option value=2029>2029</option>
                    <option value=2030>2030</option>
                  </select>
                </div>
              </div>
            </div>
          </div>
        </article>
      </div>
    </div>
  </section>


  <script>
    var today = new Date();
    var currentMonth = today.getMonth();
    var currentYear = today.getFullYear();
    var selectYear = document.getElementById("year");
    var selectMonth = document.getElementById("month");

    var months = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"];

    var monthAndYear = document.getElementById("monthAndYear");
    showCalendar(currentMonth, currentYear);


    function next() {
      if (currentMonth === 11) {
        currentYear++;
        currentMonth = 0;
      } else {
        currentMonth++;
      }
      showCalendar(currentMonth, currentYear);
    }

    function previous() {
      if (currentMonth === 0) {
        currentYear--;
        currentMonth = 11;
      } else {
        currentMonth--;
      }
      showCalendar(currentMonth, currentYear);
    }

    function jump() {
      currentYear = parseInt(selectYear.value);
      currentMonth = parseInt(selectMonth.value);
      showCalendar(currentMonth, currentYear);
    }

    function showCalendar(month, year) {

      let firstDay = (new Date(year, month)).getDay();

      tbl = document.getElementById("calendar-body"); // body of the calendar

      // clearing all previous cells
      tbl.innerHTML = "";

      // filing data about month and in the page via DOM.
      monthAndYear.innerHTML = months[month] + " " + year;
      selectYear.value = year;
      selectMonth.value = month;

      // creating all cells
      let date = 1;
      for (let i = 0; i < 6; i++) {
        // creates a table row
        let row = document.createElement("tr");

        //creating individual cells, filing them up with data.
        for (let j = 0; j < 7; j++) {
          if (i === 0 && j < firstDay) {
            cell = document.createElement("td");
            cellText = document.createTextNode("");
            cell.appendChild(cellText);
            row.appendChild(cell);
          } else if (date > daysInMonth(month, year)) {
            break;
          } else {
            cell = document.createElement("td");
            cellText = document.createTextNode(date);
            if (date === today.getDate() && year === today.getFullYear() && month === today.getMonth()) {
              cell.classList.add("is-info");
            } // color today's date
            cell.appendChild(cellText);
            row.appendChild(cell);
            date++;
          }


        }

        tbl.appendChild(row); // appending each row into calendar body.
      }

    }


    // check how many days in a month
    function daysInMonth(month, year) {
      return 32 - new Date(year, month, 32).getDate();
    }
  </script>

  <div class="modal">
    <div class="modal-background"></div>
    <div class="modal-content">
      <div class="card">
        <header class="card-header">
          <p class="card-header-title is-centered">
            Task
          </p>
        </header>
        <div class="card-content">
          <div class="content">
            <form>
              <div class="field">
                <div class="control">
                  <label class="label">Task Name</label>
                  <input class="input" id="taskInput" type="text" placeholder="Task Name">
                </div>
              </div>
              
              <!-- <div class="field is-grouped">
                <div class="control">
                  <label class="label">Date</label>
                  <input type="datetime-local">
                </div>
              </div> -->
          </div>
        </div>
        <footer class="card-footer">
          <button class="button card-footer-item" type="button" id="cancel">Cancel</button>
          <button class="button card-footer-item makeTask" type="button">Make Task</button>
        </footer>
        </form>
      </div>
      <button class="modal-close is-large" aria-label="close" onclick="$('.modal').removeClass('is-active')"></button>
    </div>
  </div>
  </div>

  <nav class="tabs navbar is-fullwidth is-boxed is-toggle is-fixed-bottom">
    <ul>
      <li id="tasksNav" class="navLink">
        <a>Tasks</a>
      </li>
      <li id="calNav" class="navLink">
        <a>Calendar</a>
      </li>
      <li id="scheduleNav" class="navLink">
        <a>Schedule</a>
      </li>
    </ul>
  </nav>
  </div>

  <!--Link to external Javascript-->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
  <script src="./Assets/Javascript/script.js"></script>
</body>

</html>